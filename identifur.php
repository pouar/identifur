<?php
/* This requires php-xxhash to use
https://github.com/Megasaxon/php-xxhash
*/
header('Content-Type: image/svg+xml');
if(!isset($_GET["value"]))
{
	header('Content-Type: text/plain');
	exit("GET variable 'value' must be set");
}
$hash = hexdec(xxhash64( $_GET["value"] ));
$height=1024.0;
if(empty($_GET["height"])
{
	$newheight=1024.0;
}
else if (!is_numeric($_GET["height"])
{
	header('Content-Type: text/plain');
	exit("GET variable 'height' must be numeric");
}
else
{ 
	$newheight= (float)$_GET["height"];
}
$rgb1=sprintf("%06x",(($hash >> 40) & 0xffffff));
$rgb2=sprintf("%06x",(($hash >> 16) & 0xffffff));
$tail=($hash >> 14) & 0b11;
$ears=($hash >> 12) & 0b11;
$wings=($hash >> 10) & 0b11;
$top=($hash >> 8) & 0b11;
$bottom=($hash >> 6) & 0b11;
$r3=sprintf("%02x",(($hash >> (64-((($hash >> 4) & 0b11)*8))) & 0xff));
$g3=sprintf("%02x",(($hash >> (56-((($hash >> 2) & 0b11)*8))) & 0xff));
$b3=sprintf("%02x",(($hash >> (48-(($hash & 0b11)*8))) & 0xff));
$chestpath=<<<EOT
<ellipse cx="138.94554" cy="142.06779" rx="9.4711866" ry="35.588699" style="fill:#{$r3}{$g3}{$b3};fill-rule:evenodd;stroke:#{$r3}{$g3}{$b3};stroke-width:.26458332;stroke-linecap:round;stroke-linejoin:round"/>
EOT;
$tailpaths[0]=<<<EOT
<path d="m125.67708 169.622c-21.68755-17.39448-45.257138-13.91836-62.744046 4.91369 15.179415 27.56736 46.724746 15.03834 62.589456 6.11444z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$tailpaths[1]=<<<EOT
<path d="m125.61668 171.65057c-26.718795-29.00078-23.54506 21.16167-62.140167 4.27631-3.430963-1.39964-2.805857-4.61979-.000001-4.00904 38.595108 16.88536 35.421371-33.27709 62.140168-4.27631z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$tailpaths[2]=<<<EOT
<path d="m125.67708 171.41739c-17.74251 1.51569-32.948177-5.62655-45.168154-15.40253-.233031 18.25409 30.437824 31.11928 44.979174 24.75744z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$tailpaths[3]=<<<EOT
<path d="m125.62984 172.55132c-3.17708.2876-4.1389-1.93204-5.6224-3.68527-2.85832 4.69842.3132 11.68881 5.57515 8.88244z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$earspaths[0]=<<<EOT
<path d="m145.51059 13.600796-9.33541 17.047264-9.74129-15.626659-7.91481 26.179729 34.90631-6.088308z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332" transform="translate(0 26.066647)"/>
EOT;
$earspaths[1]=<<<EOT
<path d="m119.5338 70.830902c-5.27653-62.8472713 14.09057-98.750119 16.84433-17.047265 2.11952-81.636676 24.68057-45.8304649 17.04726 10.14718z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$earspaths[2]=<<<EOT
<path d="m156.06366 30.445117c-10.25115 1.708526-13.92085 12.295042-17.72694 21.646406-1.77671-11.429518-7.26813-16.569113-17.65085-21.094914-11.76816 9.7164-8.69162 28.242086-3.15706 39.893784l38.73779-1.074211c8.78134-7.958094 8.51072-30.22741-.20294-39.371065z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$earspaths[3]=<<<EOT
<path d="m445.83008 120.40625a61.83051 61.83051 0 0 0 -61.83008 61.83008 61.83051 61.83051 0 0 0  61.83008 61.83203 61.83051 61.83051 0 0 0  61.83008-61.83203 61.83051 61.83051 0 0 0 -61.83008-61.83008zm138.1582 0a61.83051 61.83051 0 0 0 -61.83008 61.83008 61.83051 61.83051 0 0 0  61.83008 61.83203 61.83051 61.83051 0 0 0  61.83008-61.83203 61.83051 61.83051 0 0 0 -61.83008-61.83008z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-linecap="round" stroke-linejoin="round" transform="scale(.26458333)"/>
EOT;
$wingspaths[0]=<<<EOT
<path d="m148.92262 122.56397c15.01005.97976 25.44381-6.88255 35.71875-12.66221 11.41883 18.83944 12.04149 40.39089 15.68601 61.04316-15.96363-7.99737-32.85384-10.1955-55.5625-9.07143-3.38195-1.0496-10.20772.32874-11.33928.56697-17.49806-1.14881-32.39229-1.10749-59.531257 13.79613 8.309983-20.18139 9.128535-43.81272 17.575895-64.82292 11.312542 3.9279 25.443262 8.57403 36.096722 9.82738 7.15392.9512 14.35418.91106 21.35566 1.32292z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$wingspaths[1]=<<<EOT
<path d="m211.28868 158.4717c.81242 2.77567 1.81804 5.94914 3.03429 8.66103 14.2462 29.36584-14.53365-3.29272-18.15333-14.70864 1.00961 2.62648 1.78004 5.68864 3.07916 8.15039 14.14623 32.98047-15.67492.58916-20.46607-13.44206.34558 1.99598 1.67584 3.99327 2.2125 6.12491 14.14218 30.68741-15.08563 2.07802-20.54434-11.22759.50388 1.71204 1.88017 3.89557 2.45684 5.10268 10.85392 23.69729-13.89218.31503-16.81994-8.69345-5.5529-.26443-10.83675 1.87028-17.00892 0-2.92776 9.00848-27.54646 29.45078-16.81994 8.69345.5748-1.07589 1.49265-3.21334 2.45684-5.10268-5.45871 13.30561-32.487788 43.45834-20.878435 12.26326.530712-1.91152 1.661229-4.86025 2.54659-7.16058-4.791148 14.03123-35.162904 44.42652-20.666518 14.07683.892905-2.47462 2.546371-5.75223 3.279616-8.78516-3.619682 11.41592-28.359727 40.75932-17.942405 15.4713.762213-2.96567 2.040167-6.12201 2.823357-9.42369-4.060203 10.0797-27.621923 35.19245-21.355653 19.65477 34.184656-85.461643 2.685172-86.414677 83.910708-56.88542 3.44829 1.17048 8.51435 1.96644 11.1503 2.45685 2.63595-.49041 7.70201-1.28637 11.1503-2.45685 81.22554-29.529258 49.72605-28.576224 83.91071 56.88542 7.96716 21.4908-17.95691-9.19709-21.35566-19.65477z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332"/>
EOT;
$wingspaths[2]=<<<EOT
<path d="m147.50202 118.09921c15.01005.97976 26.05264-11.14437 36.32758-16.92403 11.41883 18.83944 22.59455 136.18029 26.23907 156.83256-9.46943-21.59459-42.59513-97.25832-65.30379-96.13425-3.38195-1.0496-10.20772.32874-11.33928.56697-17.49806-1.14881-60.601455 59.7756-80.231508 92.33532 8.309983-20.18139 29.017011-131.07849 37.464371-152.08869 11.312547 3.9279 24.834437 12.83585 35.487897 14.0892 7.15392.9512 14.35418.91106 21.35566 1.32292z" fill="#{$rgb1}" fill-rule="evenodd" stroke="#{$rgb1}" stroke-width=".26458332" transform="translate(-.00012419791 -.000074)"/>
EOT;
$wingspaths[3]=<<<EOT

EOT;
$toppaths[0]=<<<EOT
<path d="m471.86523 391.59375c-36.84971 19.21281-64.12163 79.24861-74.38671 105.52344 14.75047 5.88404 40.51051 16.70007 55.05273 18.63281 6.40702-29.84712 19.32613-44.06446 20.72656-48.61523.12067 49.58046-.28165 100.92672-1.21093 153.02539l104.28906 1.82226c-1.10624-59.72421-1.89902-116.50098-1.41992-157.71094 4.29705 13.46937 9.96287 31.74774 12.73046 41.25586 14.16889 0 36.5531-8.54644 49.97461-10.67382-8.75523-31.37734-25.56647-68.64499-61.62109-102.17579-31.3279 19.14482-71.06851 29.99383-104.13477-1.08398z" fill="#{$rgb2}" fill-rule="evenodd" stroke="#{$rgb2}" transform="scale(.26458333)"/>
EOT;
$toppaths[1]=<<<EOT
<path d="m160.86666 173.20791c-.91613-12.82586-1.3141-27.58897-5.3852-39.4538-.73226-2.51569-2.23134-7.35185-3.36827-10.91562-.12676 10.90347.083 25.92566.37569 41.72769l-27.59315-.48214c.2459-13.78444.3523-27.3698.3204-40.48797-.37053 1.20406-3.78871 4.96573-5.48391 12.86278-3.60604 11.21503-3.62877 24.49192-4.21245 36.74906-2.53825.059-8.86101.265-12.77175 1.00452-1.22156-12.82644-1.56636-30.46403 2.41817-42.68351 2.71597-6.95188 9.93166-22.83635 19.68148-27.91974 8.74878 8.22267 19.26349 5.3522 27.55233.2868 9.53945 8.87169 13.98742 18.73209 16.30391 27.03401 3.6057 12.16823 3.42758 27.50341 3.06897 42.56492-1.34784.0321-8.51938.24431-10.90622-.287z" fill="#{$rgb2}" fill-rule="evenodd" stroke="#{$rgb2}" stroke-width=".26458332"/>
EOT;
$toppaths[2]=<<<EOT
<path d="m471.86523 391.59375c.7055 2.23238 1.34377 4.69116 1.90821 7.33398.56444 2.64283 1.05497 5.47003 1.46875 8.43946.41378 2.96942.75039 6.08078 1.0039 9.29297.25352 3.21219.42418 6.52537.50782 9.89648s.08021 6.7999-.01563 10.24609c-.09584 3.4462-.28344 6.91022-.56836 10.34766-.28492 3.43745-.66678 6.84851-1.15039 10.19336s-1.06981 6.6226-1.76172 9.79102c.12057 49.58048-.28155 100.92671-1.21093 153.02539l104.28906 1.82226c-1.10623-59.72421-1.89902-116.50096-1.41992-157.71094-.71125-2.93392-1.3701-7.45926-1.86524-12.95117s-.82735-11.95035-.88476-18.75c-.02871-3.39982.01248-6.88462.13476-10.37695.12228-3.49234.32599-6.99136.62695-10.41992.30097-3.42857.69773-6.78758 1.20508-9.9961.50736-3.20851 1.12574-6.26743 1.86719-9.09961-31.3279 19.14482-71.06851 29.99383-104.13477-1.08398z" fill="#{$rgb2}" fill-rule="evenodd" stroke="#{$rgb2}" transform="scale(.26458333)"/>
EOT;
$toppaths[3]=<<<EOT

EOT;
$bottompaths[0]=<<<EOT
<path d="m576.33594 621.98242-104.28906-1.82226c-1.95814 109.77925-6.47369 223.23277-14.89649 332.88867 15.98861 1.17014 31.862 1.92905 47.55664 2.30273 3.98332-85.80091 18.02539-181.74393 18.02539-265.77734 6.03122 84.59981 2.39325 184.88317 11.88867 266.54297 15.24862-2.03396 35.42883-2.45438 48.32227-3.06836-.12863-64.61924-4.29323-206.1263-6.60742-331.06641z" fill="#{$rgb2}" fill-rule="evenodd" stroke="#{$rgb2}" transform="scale(.26458333)"/>
EOT;
$bottompaths[1]=<<<EOT
<path d="m152.53281 168.44656h-27.70736l-8.64022 32.26827 40.48726-.10147z" fill="#{$rgb2}" fill-rule="evenodd" stroke="#{$rgb2}" stroke-width=".26458332"/>
EOT;
$bottompaths[2]=<<<EOT
<path d="m474.50615 624.46345c-21.31797 14.94533-33.70205 39.04178-33.74248 64.64983-.00042 44.00816 36.57342 79.68394 81.68945 79.6836 45.11527-.00071 81.68792-35.67618 81.6875-79.6836-.0355-24.40295-10.95729-47.2528-30.62394-62.33558-11.06546 8.23391-29.43131 12.92802-48.38777 12.9391-20.58861-.0122-39.94564-5.83608-50.62276-15.25335z" fill="#{$rgb2}" fill-rule="evenodd" stroke="#{$rgb2}" stroke-linecap="round" stroke-linejoin="round" transform="scale(.26458333)"/>
EOT;
$bottompaths[3]=<<<EOT

EOT;
?>
<svg height="<?=$newheight?>" viewBox="0 0 <?=($newheight/$height)*270.93332?> <?=($newheight/$height)*270.93333?>" width="<?=$newheight?>" xmlns="http://www.w3.org/2000/svg"><g transform="scale(<?=$newheight/$height?>)"><path d="m152.70238 255.80057c0-17.49275-.12376-38.00529-.94494-56.88541l-.37798-79.94197c7.41547 15.75787 11.47429 41.01272 10.01638 60.85417-17.95412 22.3661 25.63499 22.04668 8.50446-.37798 1.40223-23.83796 3.22829-60.65704-19.27679-75.02827 33.92127-74.018903-63.707008-65.809102-24.00148-.18898-27.439166 17.11042-23.76545 53.52913-21.16667 76.91815-17.954113 22.3661 25.63499 22.04668 8.50446-.37798-.95935-22.26051.69097-45.92113 12.28423-63.31101l-.94495 80.8869c-1.76616 19.46044-1.7497 39.72441-3.96874 58.58631-.95398-.0561-13.79138 1.89464-8.59896 7.08706 2.54672 2.54671 19.49961 2.95614 21.26116-.56697 1.35441-2.70882-.21854-5.74984-2.26785-6.70908l5.10267-75.78422c0-1.9377 3.90195-2.5276 3.96875-.18899l1.5119 74.83928c-2.04931.95924-3.62226 4.00026-2.26785 6.70908 1.76155 3.52311 18.71444 3.11368 21.26116.56697 5.19242-5.19242-7.64498-7.14318-8.59896-7.08706" fill="#<?=$rgb1?>" fill-rule="evenodd" stroke="#<?=$rgb1?>" stroke-width=".26458332"/>
<?=$tailpaths[$tail] ?>
<?=$earspaths[$ears] ?>
<?=$wingspaths[$wings] ?>
<?=$chestpath?>
<?=$toppaths[$top] ?>
<?=$bottompaths[$bottom] ?>
</g>
</svg>
